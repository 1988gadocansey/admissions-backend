{% extends "base.html" %}
{% load static %}
{% load humanize %}
{% load custom_tags %}
{% load account_tags %}

{% block contents %}
    <h6 class="heading_b uk-margin-bottom">Programmes</h6>
    <div class="uk-width-xLarge-1-10">
        <div class="md-card">
            <div class="md-card-content" style="">

                <div class="uk-overflow-container" id='print'>
                    <form method="POST" accept-charset="utf-8" name="updateForm" v-form>
                        {% csrf_token %}
                        <table   class="uk-table uk-table-align-vertical uk-table-nowrap tablesorter tablesorter-altair programmes" id="ts_pager_filter">


                            <thead>
                            <tr>
                                <th>No.</th>
                                <th><strong>Programme</strong></th>
                                <th><strong>Code</strong></th>

                                <th><strong>Type</strong></th>
                                <th><strong>Duration</strong></th>
                                <th><strong>Fees</strong></th>
                                <th><strong>Size</strong></th>
                                <th><strong>Total Admitted</strong></th>
                                <th><strong>Running</strong></th>
                                <th><strong>Admitting</strong></th>
                                <th><strong>Action</strong></th>

                            </tr>
                            </thead>
                            <tbody>


                            {% for record in data.object_list %}

                                <tr>
                                    <td> {{ forloop.counter0|add:data.start_index }} {# starting index 1 #}</td>
                                    <td class="name">{{ record.name }}</td>
                                    <td>{{ record.code }}</td>
                                    <td>{{ record.type }}</td>
                                    <td>{{ record.duration }}</td>
                                    <td>    GHS0.0</td>

                                    <td>Not available</td>
                                    <td>Not available</td>
                                    <td>


                                        <select class="running" name="running">
                                            <option>--select--</option>
                                            <option value="true"{% if  record.runing == True %}
                                                    selected="selected" {% endif %} >
                                                Yes
                                            </option>

                                            <option value="false" {% if  record.runing == False %}
                                                    selected="selected" {% endif %}>
                                                No
                                            </option>


                                        </select>


                                    </td>
                                <td>
                                     <select class="admitt" name="admitt">
                                            <option>--select--</option>
                                            <option value="true"{% if  record.admitting == True %}
                                                    selected="selected" {% endif %} >
                                                Admitting
                                            </option>

                                            <option value="false" {% if  record.admitting == False %}
                                                    selected="selected" {% endif %}>
                                                Not Admitting
                                            </option>


                                        </select>
                                </td>

                                    <td>
                                        <input type="hidden" name="pid" class="programID" value="{{ record.id }}">
                                        <button type="button" class="UpdateBtn" name="button">Update</button>

                                    </td>


                                </tr>
                            {% endfor %}


                            </tbody>
                        </table>
                        <ul class="uk-pagination uk-margin-medium-top">
                            {% if data.has_previous %}


                                <li class="uk-disabled"><a
                                        href="?{% url_replace request 'page' data.previous_page_number %}"><i
                                        class="uk-icon-angle-double-left"></i></a></li>
                            {% endif %}
                            {% for pg in data.paginator.page_range %}
                                {% if data.number == pg %}
                                    <li class="uk-active"><a href="?{% url_replace request 'page' pg %}">{{ pg }}</a>
                                    </li>
                                {% else %}
                                    <li><a href="?{% url_replace request 'page' pg %}">{{ pg }}</a></li>


                                {% endif %}
                            {% endfor %}
                            {% if data.has_next %}


                                <li><a href="?{% url_replace request 'page' data.next_page_number %}"><i
                                        class="uk-icon-angle-double-right"></i></a></li>
                            {% endif %}
                        </ul>


                    </form>

                </div>
            </div>
        </div>
    </div>


{% endblock %}
{% block js %}
{% endblock %}
